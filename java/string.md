# String

### 字符串格式化

```java
// 新字符串使用本地语言环境，制定字符串格式和参数生成格式化的新字符串
String.format(String format, Object... args);

// 使用指定的语言环境，制定字符串格式和参数生成格式化的字符串
String.format(Locale locale, String format, Object... args);
```

> 常用类型说明  

| 转换符 | 说明 | 示例 |
| :--: | :-- | :-- |
| &#37;s | 字符串类型 | “字符串” |
| &#37;c | 字符类型 | ‘m’ |
| &#37;b | 布尔类型 | true |
| &#37;d | 整数类型 (十进制) | 88 |
| &#37;x | 整数类型 (十六进制) | FF |
| &#37;o | 整数类型 (八进制) | 77 |
| &#37;f | 浮点类型 | 8.888 |
| &#37;a | 十六进制浮点类型 | FF.35AE |
| &#37;e | 指数类型 | 9.38e+5 |
| &#37;g | 通用浮点类型 (f和e类型中较短的) | &#32; |
| &#37;h | 散列码 | &#32; |
| &#37;&#37; | 百分比类型 (&#37;特殊字符&#37;&#37;才能显示&#37;) | &#37; |
| &#37;n | 换行符 | &#32; |
| &#37;tx | 日期与时间类型 (x代表不同的日期与时间转换符，见 ```日期转换符```) | &#32; |

> 日期转换符  

| 标志 | 说明 | 示例 |
| :--: | :-- | :-- |
| c | 包括全部日期和时间信息 | 星期六 十月 27 14:21:20 CST 2007 |
| F | “年-月-日”格式 | 2007-10-27 |
| D | “月/日/年”格式 | 10/27/07 |
| r | “HH:MM:SS PM”格式（12时制） | 02:25:51 下午 |
| T | “HH:MM:SS”格式（24时制） | 14:28:16 |
| R | “HH:MM”格式（24时制） | 14:28 |

> 示例  

```java
System.out.println(String.format("Hi,%s", "字符串"));                  // Hi,字符串
System.out.println(String.format("Hi,%s %s %s", "字", "符", "串"));    // Hi,字 符 串
System.out.printf("字母c的大写是：%c %n", 'C');                        // 字母c的大写是：C
System.out.printf("布尔结果是：%b %n", false);                         // 布尔结果是：false
System.out.printf("100的一半是：%d %n", 100 / 2);                      // 100的一半是：50
System.out.printf("100的16进制数是：%x %n", 100);                      // 100的16进制数是：64
System.out.printf("100的8进制数是：%o %n", 100);                       // 100的8进制数是：144
System.out.printf("50元的书打8.5折扣是：%f 元%n", 50 * 0.85);           // 50元的书打8.5折扣是：42.500000 元
System.out.printf("上面价格的16进制数是：%a %n", 50 * 0.85);            // 上面价格的16进制数是：0x1.54p5
System.out.printf("上面价格的指数表示：%e %n", 50 * 0.85);              // 上面价格的指数表示：4.250000e+01
System.out.printf("上面价格的指数和浮点长度较短的是：%g %n", 50 * 0.85); // 上面价格的指数和浮点长度较短的是：42.5000
System.out.printf("上面的折扣是%d%% %n", 85);                           // 上面的折扣是85%
System.out.printf("字母A的散列码是：%h %n", 'A');                       // 字母A的散列码是：41

Date date = new Date();
System.out.printf("c的使用 全部日期和时间信息：%tc%n", date);        // c的使用 全部日期和时间信息：星期四 八月 12 09:54:37 CST 2021
System.out.printf("f的使用 年-月-日格式：%tF%n", date);              // f的使用 年-月-日格式：2021-08-12
System.out.printf("d的使用 月/日/年格式：%tD%n", date);              // d的使用 月/日/年格式：08/12/21
System.out.printf("r的使用 HH:MM:SS PM格式（12时制）：%tr%n", date); // r的使用 HH:MM:SS PM格式（12时制）：09:54:37 上午
System.out.printf("t的使用 HH:MM:SS格式（24时制）：%tT%n", date);    // t的使用 HH:MM:SS格式（24时制）：09:54:37
System.out.printf("R的使用 HH:MM格式（24时制）：%tR", date);         // R的使用 HH:MM格式（24时制）：09:54
```

> 高级用法  

| 标志 | 说明 | 示例 | 结果 |
| :--: | :-- | :-- | :-- |
| &#45; | 整数之后添加指定数量(=整数位数+空格数)的空格 | ```("%-5d", 15)``` | <pre style="display: inherit; padding: .2em; margin: 0 !important;"><code>15   </code></pre> |
| &#43; | 为正数或者负数添加符号 | ```("%+d", 15)``` | ```+15``` |
| 空格 | 在整数之前添加指定数量(=整数位数+空格数)的空格 | ```("% 5d", 99)``` | <pre style="display: inherit; padding: .2em; margin: 0 !important;"><code>   99</code></pre> |
| 0 | 数字前面补0 | ```("%04d", 99)``` | ```0099``` |
| &#44; | 以“,”对数字分组 | ```("%,f", 9999.99)``` | ```9,999.990000``` |
| &#40; | 使用括号包含负数 | ```("%(f", -99.99)``` | ```(99.990000)``` |
| &#35; | 如果是浮点数则包含小数点，如果是16进制或8进制则添加0x或0 | ```("%#x", 99)``` | ```("%#o", 99)``` |
| &#60; | 格式化前一个转换符所描述的参数 | ```("%f和%<3.2f", 99.45)``` | ```99.450000和99.45``` |
| &#36; | 被格式化的参数索引 | ```("%1$d,%2$s", 99,"abc")``` | ```99,abc``` |