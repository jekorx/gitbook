
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>代码片段收藏 · jekorx's blog</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="jekorx">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../index/wx.html" />
    
    
    <link rel="prev" href="chrome-download.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../index/nodejs.html">
            
                <a href="../index/nodejs.html">
            
                    
                    Node.js
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../nodejs/npm.html">
            
                <a href="../nodejs/npm.html">
            
                    
                    Npm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../nodejs/yarn.html">
            
                <a href="../nodejs/yarn.html">
            
                    
                    Yarn
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../nodejs/process-manager.html">
            
                <a href="../nodejs/process-manager.html">
            
                    
                    PM2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../nodejs/http-server.html">
            
                <a href="../nodejs/http-server.html">
            
                    
                    Http-Server
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../index/frontend.html">
            
                <a href="../index/frontend.html">
            
                    
                    前端
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="axios.html">
            
                <a href="axios.html">
            
                    
                    Axios
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="html.html">
            
                <a href="html.html">
            
                    
                    Html
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="css.html">
            
                <a href="css.html">
            
                    
                    Css
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="vw.html">
            
                <a href="vw.html">
            
                    
                    移动端vw适配方案
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="vuejs.html">
            
                <a href="vuejs.html">
            
                    
                    Vue.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="cra.html">
            
                <a href="cra.html">
            
                    
                    Create React App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="vue-cli.html">
            
                <a href="vue-cli.html">
            
                    
                    Vue Cli
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="js-utils.html">
            
                <a href="js-utils.html">
            
                    
                    Js Utils
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="regular.html">
            
                <a href="regular.html">
            
                    
                    正则表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="typescript.html">
            
                <a href="typescript.html">
            
                    
                    TypeScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="eslint.html">
            
                <a href="eslint.html">
            
                    
                    ESLint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="less.html">
            
                <a href="less.html">
            
                    
                    Less
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="canvas.html">
            
                <a href="canvas.html">
            
                    
                    Canvas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="debounce-throttle.html">
            
                <a href="debounce-throttle.html">
            
                    
                    防抖节流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="webpack.html">
            
                <a href="webpack.html">
            
                    
                    Webpack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="nuxtjs.html">
            
                <a href="nuxtjs.html">
            
                    
                    Nuxt.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.17" data-path="amap-selector.html">
            
                <a href="amap-selector.html">
            
                    
                    高德vue地图选择器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.18" data-path="vue-quill-editor.html">
            
                <a href="vue-quill-editor.html">
            
                    
                    VueQuillEditor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.19" data-path="chrome-download.html">
            
                <a href="chrome-download.html">
            
                    
                    Chrome文件下载
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.20" data-path="snippet.html">
            
                <a href="snippet.html">
            
                    
                    代码片段收藏
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../index/wx.html">
            
                <a href="../index/wx.html">
            
                    
                    微信开发
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../wx/wx-mp.html">
            
                <a href="../wx/wx-mp.html">
            
                    
                    微信公众号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../wx/weapp-grant.html">
            
                <a href="../wx/weapp-grant.html">
            
                    
                    微信小程序授权
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../wx/weapp-vehicle-panel.html">
            
                <a href="../wx/weapp-vehicle-panel.html">
            
                    
                    微信小程序车牌键盘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../wx/weapp-sign.html">
            
                <a href="../wx/weapp-sign.html">
            
                    
                    微信小程序Canvas签名
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../wx/weapp-codes.html">
            
                <a href="../wx/weapp-codes.html">
            
                    
                    微信小程序验证码输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../wx/weapp-timing.html">
            
                <a href="../wx/weapp-timing.html">
            
                    
                    微信小程序倒计时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../wx/weapp-datetime-picker.html">
            
                <a href="../wx/weapp-datetime-picker.html">
            
                    
                    微信小程序日期时间选择器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../index/flutter.html">
            
                <a href="../index/flutter.html">
            
                    
                    Flutter
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../flutter/env.html">
            
                <a href="../flutter/env.html">
            
                    
                    环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../flutter/android-package.html">
            
                <a href="../flutter/android-package.html">
            
                    
                    Android构建
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../index/java.html">
            
                <a href="../index/java.html">
            
                    
                    Java
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../java/string.html">
            
                <a href="../java/string.html">
            
                    
                    String
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../java/stream.html">
            
                <a href="../java/stream.html">
            
                    
                    Stream
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../java/fastjson.html">
            
                <a href="../java/fastjson.html">
            
                    
                    FastJson
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../java/compare.html">
            
                <a href="../java/compare.html">
            
                    
                    compareTo 比较大小
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../java/utils.html">
            
                <a href="../java/utils.html">
            
                    
                    Java工具类
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../index/spring.html">
            
                <a href="../index/spring.html">
            
                    
                    Spring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../spring/exception.html">
            
                <a href="../spring/exception.html">
            
                    
                    自定义异常
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../index/springboot.html">
            
                <a href="../index/springboot.html">
            
                    
                    SpringBoot
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../springboot/put-config.html">
            
                <a href="../springboot/put-config.html">
            
                    
                    Put请求配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../springboot/fastjson-config.html">
            
                <a href="../springboot/fastjson-config.html">
            
                    
                    FastJson配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../springboot/cors-config.html">
            
                <a href="../springboot/cors-config.html">
            
                    
                    跨域配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../springboot/mybatis.html">
            
                <a href="../springboot/mybatis.html">
            
                    
                    MyBatis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../springboot/redis.html">
            
                <a href="../springboot/redis.html">
            
                    
                    Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../springboot/rabbitmq.html">
            
                <a href="../springboot/rabbitmq.html">
            
                    
                    RabbitMQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../springboot/excel.html">
            
                <a href="../springboot/excel.html">
            
                    
                    Excel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="../springboot/run.html">
            
                <a href="../springboot/run.html">
            
                    
                    启动方式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../index/sql.html">
            
                <a href="../index/sql.html">
            
                    
                    SQL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../sql/mysql.html">
            
                <a href="../sql/mysql.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../sql/postgresql.html">
            
                <a href="../sql/postgresql.html">
            
                    
                    PostgreSQL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../index/git-svn.html">
            
                <a href="../index/git-svn.html">
            
                    
                    Git/Svn
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../git-svn/git.html">
            
                <a href="../git-svn/git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../git-svn/gitlab.html">
            
                <a href="../git-svn/gitlab.html">
            
                    
                    GitLab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../git-svn/svn.html">
            
                <a href="../git-svn/svn.html">
            
                    
                    Svn
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../index/linux.html">
            
                <a href="../index/linux.html">
            
                    
                    Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../linux/cmd.html">
            
                <a href="../linux/cmd.html">
            
                    
                    命令行
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../linux/curl.html">
            
                <a href="../linux/curl.html">
            
                    
                    Curl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../linux/yum.html">
            
                <a href="../linux/yum.html">
            
                    
                    Yum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../linux/jdk.html">
            
                <a href="../linux/jdk.html">
            
                    
                    JDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../linux/php.html">
            
                <a href="../linux/php.html">
            
                    
                    PHP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="../linux/nodejs.html">
            
                <a href="../linux/nodejs.html">
            
                    
                    Node.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="../linux/maven.html">
            
                <a href="../linux/maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.8" data-path="../linux/nexus.html">
            
                <a href="../linux/nexus.html">
            
                    
                    Nexus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.9" data-path="../linux/mysql.html">
            
                <a href="../linux/mysql.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.10" data-path="../linux/pgsql.html">
            
                <a href="../linux/pgsql.html">
            
                    
                    PostgreSQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.11" data-path="../linux/mount.html">
            
                <a href="../linux/mount.html">
            
                    
                    挂载硬盘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.12" data-path="../linux/nginx.html">
            
                <a href="../linux/nginx.html">
            
                    
                    Nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.13" data-path="../linux/tomcat.html">
            
                <a href="../linux/tomcat.html">
            
                    
                    Tomcat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.14" data-path="../linux/redis.html">
            
                <a href="../linux/redis.html">
            
                    
                    Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.15" data-path="../linux/mongodb.html">
            
                <a href="../linux/mongodb.html">
            
                    
                    MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.16" data-path="../linux/solr.html">
            
                <a href="../linux/solr.html">
            
                    
                    Solr
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.17" data-path="../linux/rabbitmq.html">
            
                <a href="../linux/rabbitmq.html">
            
                    
                    RabbitMQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.18" data-path="../linux/ftp.html">
            
                <a href="../linux/ftp.html">
            
                    
                    Ftp服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.19" data-path="../linux/jenkins.html">
            
                <a href="../linux/jenkins.html">
            
                    
                    Jenkins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.20" data-path="../linux/zentao.html">
            
                <a href="../linux/zentao.html">
            
                    
                    禅道
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../index/mac.html">
            
                <a href="../index/mac.html">
            
                    
                    Mac
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../mac/env-config.html">
            
                <a href="../mac/env-config.html">
            
                    
                    常用环境配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../index/windows.html">
            
                <a href="../index/windows.html">
            
                    
                    Windows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../windows/dos.html">
            
                <a href="../windows/dos.html">
            
                    
                    DOS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../index/ide.html">
            
                <a href="../index/ide.html">
            
                    
                    开发工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../ide/vscode.html">
            
                <a href="../ide/vscode.html">
            
                    
                    VSCode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../ide/idea.html">
            
                <a href="../ide/idea.html">
            
                    
                    IDEA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../ide/editorconfig.html">
            
                <a href="../ide/editorconfig.html">
            
                    
                    EditorConfig
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../index/markdown.html">
            
                <a href="../index/markdown.html">
            
                    
                    MarkDown
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../markdown/ascii.html">
            
                <a href="../markdown/ascii.html">
            
                    
                    转义字符
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../index/others.html">
            
                <a href="../index/others.html">
            
                    
                    其它
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../others/sys.html">
            
                <a href="../others/sys.html">
            
                    
                    操作系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="../others/excel.html">
            
                <a href="../others/excel.html">
            
                    
                    Excel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../index/collection.html">
            
                <a href="../index/collection.html">
            
                    
                    文章收藏
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" >
            
                <span>
            
                    
                     
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../index/delicious.html">
            
                <a href="../index/delicious.html">
            
                    
                     
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >代码片段收藏</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x524D;&#x7AEF;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x6536;&#x85CF;">&#x524D;&#x7AEF;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x6536;&#x85CF;</h1>
<blockquote>
<p>1&#x3001;<a href="#1&#x3001;&#x540C;&#x65F6;&#x751F;&#x6210;&#x6761;&#x7801;&#x4E8C;&#x7EF4;&#x7801;">&#x540C;&#x65F6;&#x751F;&#x6210;&#x6761;&#x7801;&#x4E8C;&#x7EF4;&#x7801;</a><br>2&#x3001;<a href="#2&#x3001;&#x6279;&#x91CF;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;">&#x6279;&#x91CF;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;</a><br>3&#x3001;<a href="#3&#x3001;&#x5BFC;&#x51FA;excel">&#x5BFC;&#x51FA;Excel</a><br>4&#x3001;<a href="#4&#x3001;&#x89E3;&#x6790;excel&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x5BFC;&#x51FA;">&#x89E3;&#x6790;Excel&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x5BFC;&#x51FA;</a><br>5&#x3001;<a href="#5&#x3001;vue-router3x&#x90E8;&#x7F72;&#x66F4;&#x65B0;&#x63D0;&#x793A;">vue-router@3.x&#x90E8;&#x7F72;&#x66F4;&#x65B0;&#x63D0;&#x793A;</a><br>6&#x3001;<a href="#6&#x3001;vue&#x6307;&#x4EE4;&#xFF0C;&#x53F3;&#x952E;&#x6253;&#x5F00;&#x6570;&#x5B57;&#x8F6F;&#x952E;&#x76D8;">vue&#x6307;&#x4EE4;&#xFF0C;&#x53F3;&#x952E;&#x6253;&#x5F00;&#x6570;&#x5B57;&#x8F6F;&#x952E;&#x76D8;</a><br>7&#x3001;<a href="#7&#x3001;elementui-table&#xFF0C;&#x5217;&#x62D6;&#x62FD;&#x6392;&#x5E8F;">ElementUI-Table&#xFF0C;&#x5217;&#x62D6;&#x62FD;&#x6392;&#x5E8F;</a><br>8&#x3001;<a href="#8&#x3001;elementui-table&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x5217;&#x7EC4;&#x4EF6;">ElementUI-Table&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x5217;&#x7EC4;&#x4EF6;</a><br>9&#x3001;<a href="#9&#x3001;elementui-table&#xFF0C;&#x5D4C;&#x5957;&#x8868;&#x683C;">ElementUI-Table&#xFF0C;&#x5D4C;&#x5957;&#x8868;&#x683C;</a><br>10&#x3001;<a href="#10&#x3001;echarts&#x5730;&#x56FE;&#x4E0B;&#x94BB;">Echarts&#x5730;&#x56FE;&#x4E0B;&#x94BB;</a>  </p>
</blockquote>
<h5 id="1&#x3001;&#x540C;&#x65F6;&#x751F;&#x6210;&#x6761;&#x7801;&#x4E8C;&#x7EF4;&#x7801;">1&#x3001;&#x540C;&#x65F6;&#x751F;&#x6210;&#x6761;&#x7801;&#x4E8C;&#x7EF4;&#x7801;</h5>
<p><img src="../assets/frontend-snippet-1.png" alt="bar-qr-code"></p>
<blockquote>
<p>&#x4F7F;&#x7528;<code>jsbarcode</code>&#x751F;&#x6210;&#x6761;&#x5F62;&#x7801;&#xFF0C;<code>qrcode</code>&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;<br>&#x4F7F;&#x7528;canvas&#x5408;&#x5E76;&#x751F;&#x6210;&#x7684;&#x6761;&#x5F62;&#x7801;&#x3001;&#x4E8C;&#x7EF4;&#x7801;  </p>
</blockquote>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> JsBarCode <span class="token keyword">from</span> <span class="token string">&apos;jsbarcode&apos;</span>
<span class="token keyword">import</span> QRCode <span class="token keyword">from</span> <span class="token string">&apos;qrcode&apos;</span>

<span class="token comment">/**
 * &#x751F;&#x6210;&#x6761;&#x7801;Promise&#xFF0C;&#x4EC5;&#x6761;&#x5F62;&#x7801;&#x53EF;&#x4EE5;&#x751F;&#x6210;&#x5185;&#x5BB9;
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">getBarCodePromise</span> <span class="token operator">=</span> <span class="token parameter">code</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;canvas&apos;</span><span class="token punctuation">)</span>
      <span class="token comment">// &#x6839;&#x636E;&#x5B57;&#x7B26;&#x957F;&#x5EA6;&#x8BA1;&#x7B97;&#x6761;&#x7801;&#x9AD8;&#x5EA6;</span>
      <span class="token keyword">let</span> h <span class="token operator">=</span> code<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token number">80</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;</span> <span class="token number">360</span><span class="token punctuation">)</span> h <span class="token operator">=</span> <span class="token number">360</span>
      <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">&lt;</span> <span class="token number">120</span><span class="token punctuation">)</span> h <span class="token operator">=</span> <span class="token number">120</span>
      <span class="token function">JsBarCode</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> code<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&apos;CODE39&apos;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&apos; &apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// &#x6761;&#x7801;&#x5185;&#x5BB9;&#x589E;&#x52A0;&#x7A7A;&#x683C;&#x95F4;&#x9694;</span>
        <span class="token literal-property property">font</span><span class="token operator">:</span> <span class="token string">&apos;Microsoft YaHei&apos;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fontOptions</span><span class="token operator">:</span> <span class="token string">&apos;bold&apos;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token comment">// &#x5BBD;&#x5EA6;&#x662F;&#x6761;&#x7801;&#x5185;&#x5BB9;format&#x4E4B;&#x540E;&#x7684;&#x4E32;&#x7684;&#x95F4;&#x9694;&#xFF0C;&#x53EF;&#x53C2;&#x7167;&#x6587;&#x6863;&#x6216;&#x6E90;&#x7801;</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> h<span class="token punctuation">,</span> <span class="token comment">// &#x5185;&#x5BB9;&#x8D8A;&#x957F;&#x9AD8;&#x5EA6;&#x663E;&#x5F97;&#x8D8A;&#x5C0F;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7B80;&#x5355;&#x9AD8;&#x5EA6;&#x8BA1;&#x7B97;&#x4EE5;&#x53CA;&#x9650;&#x5236;</span>
        <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">10</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// &#x751F;&#x6210;&#x56FE;&#x7247;&#x5BF9;&#x8C61;</span>
      <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      img<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&apos;crossOrigin&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;anonymous&apos;</span><span class="token punctuation">)</span> <span class="token comment">// &#x8BBE;&#x7F6E;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;</span>
      img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5B8C;&#x4E4B;&#x540E;resolve</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      img<span class="token punctuation">.</span>src <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">&apos;image/png&apos;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * &#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;Promise
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">getQrCodePromise</span> <span class="token operator">=</span> <span class="token parameter">code</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x751F;&#x6210;base64</span>
      QRCode<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">errorCorrectionLevel</span><span class="token operator">:</span> <span class="token string">&apos;H&apos;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maskPattern</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">500</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> url</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x751F;&#x6210;&#x56FE;&#x7247;&#x5BF9;&#x8C61;</span>
        <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        img<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&apos;crossOrigin&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;anonymous&apos;</span><span class="token punctuation">)</span> <span class="token comment">// &#x8BBE;&#x7F6E;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;</span>
        img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// &#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5B8C;&#x4E4B;&#x540E;resolve</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        img<span class="token punctuation">.</span>src <span class="token operator">=</span> url
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * &#x5408;&#x5E76;&#x751F;&#x6210;&#x6761;&#x7801;&#x4E8C;&#x7EF4;&#x7801;&#x56FE;&#x7247;&#x5E76;&#x8FD4;&#x56DE;base64&#x56FE;&#x7247;
 * @param {String} code
 * @return {String} base64
 */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token parameter">code</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// &#x751F;&#x6210;&#x6761;&#x7801;&#xFF0C;&#x5E76;&#x52A0;&#x8F7D;&#x5230;Image&#x5BF9;&#x8C61;&#x4E2D;resolve</span>
  <span class="token keyword">const</span> barCodePromise <span class="token operator">=</span> <span class="token function">getBarCodePromise</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
  <span class="token comment">// &#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;&#xFF0C;&#x5E76;&#x52A0;&#x8F7D;&#x5230;Image&#x5BF9;&#x8C61;&#x4E2D;resolve</span>
  <span class="token keyword">const</span> qrCodePromise <span class="token operator">=</span> <span class="token function">getQrCodePromise</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
  <span class="token comment">// &#x5408;&#x5E76;&#x56FE;&#x7247;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span><span class="token punctuation">[</span>barCodePromise<span class="token punctuation">,</span> qrCodePromise<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> barImg <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> qrImg <span class="token punctuation">}</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>barImg <span class="token operator">&amp;&amp;</span> qrImg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// &#x4F7F;&#x7528;canvas&#x5408;&#x5E76;&#x56FE;&#x7247;</span>
          <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;canvas&apos;</span><span class="token punctuation">)</span>
          <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&apos;2d&apos;</span><span class="token punctuation">)</span>
          canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> barImg<span class="token punctuation">.</span>width
          canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> barImg<span class="token punctuation">.</span>height <span class="token operator">+</span> barImg<span class="token punctuation">.</span>width
          <span class="token comment">// &#x7AD6;&#x5411;&#x6392;&#x5217;&#x6761;&#x7801;&#x3001;&#x4E8C;&#x7EF4;&#x7801;</span>
          ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>barImg<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> barImg<span class="token punctuation">.</span>width<span class="token punctuation">,</span> barImg<span class="token punctuation">.</span>height<span class="token punctuation">)</span>
          ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>qrImg<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> barImg<span class="token punctuation">.</span>height<span class="token punctuation">,</span> barImg<span class="token punctuation">.</span>width<span class="token punctuation">,</span> barImg<span class="token punctuation">.</span>width<span class="token punctuation">)</span>
          <span class="token comment">// &#x751F;&#x6210;&#x56FE;&#x7247;url</span>
          <span class="token keyword">const</span> url <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">&apos;image/png&apos;</span><span class="token punctuation">)</span>
          <span class="token comment">// resolve&#x5408;&#x5E76;&#x540E;base64</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;&#x5931;&#x8D25;&#xFF1A;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>reject<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="2&#x3001;&#x6279;&#x91CF;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;">2&#x3001;&#x6279;&#x91CF;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;</h5>
<blockquote>
<p>&#x4F7F;&#x7528;<code>jszip</code>&#x6279;&#x91CF;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;zip&#x6587;&#x4EF6;  </p>
</blockquote>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token constant">ZIP</span> <span class="token keyword">from</span> <span class="token string">&apos;jszip&apos;</span>
<span class="token keyword">import</span> drawCode <span class="token keyword">from</span> <span class="token string">&apos;./draw-code&apos;</span> <span class="token comment">// 1 &#x4E2D;&#x751F;&#x6210;&#x56FE;&#x7247;base64&#x7684;&#x65B9;&#x6CD5;</span>

<span class="token keyword">export</span> <span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token parameter">codeArr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// loading start</span>
  <span class="token keyword">const</span> zip <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> promises <span class="token operator">=</span> codeArr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">code</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x56FE;&#x7247;&#x751F;&#x6210;base64&#xFF0C;&#x6B64;&#x5904;&#x4F7F;&#x7528; 1 &#x4E2D;&#x65B9;&#x6CD5;&#xFF0C;&#x4E5F;&#x53EF;&#x901A;&#x8FC7;canvas&#x7684;toDataURL&#x5C06;&#x56FE;&#x7247;&#x8F6C;&#x4E3A;base64</span>
    <span class="token function">drawCode</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">url</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> data<span class="token punctuation">]</span> <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos;,&apos;</span><span class="token punctuation">)</span>
      <span class="token comment">// zip.file&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;key&#xFF0C;&#x4E0D;&#x80FD;&#x91CD;&#x590D;</span>
      zip<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&#x6761;&#x7801;&#x4E8C;&#x7EF4;&#x7801;/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_&#x6761;&#x5F62;&#x7801;_&#x4E8C;&#x7EF4;&#x7801;.png</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">base64</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>reject<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    zip<span class="token punctuation">.</span><span class="token function">generateAsync</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&apos;blob&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
      <span class="token keyword">const</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;a&apos;</span><span class="token punctuation">)</span>
      link<span class="token punctuation">.</span>href <span class="token operator">=</span> url
      link<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&apos;download&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x6279;&#x91CF;&#x751F;&#x6210;&#x6761;&#x7801;&#x4E8C;&#x7EF4;&#x7801;.zip&apos;</span><span class="token punctuation">)</span>
      link<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// &#x56DE;&#x6536;URL</span>
      window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// loading end</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="3&#x3001;&#x5BFC;&#x51FA;excel">3&#x3001;&#x5BFC;&#x51FA;Excel</h5>
<blockquote>
<p>&#x4F7F;&#x7528;<code>xlsx</code>&#x5BFC;&#x51FA;excel<br>&#x5E76;&#x5C06;&#x6570;&#x636E;&#x6BCF;60000&#x6761;&#x5207;&#x5206;&#xFF0C;&#x5355;&#x72EC;&#x751F;&#x6210;&#x4E00;&#x4E2A;sheet&#x9875;<br><code>splitArray</code>&#x5207;&#x5206;&#x6570;&#x7EC4;<a href="js-utils.html#&#x5207;&#x5206;&#x6570;&#x7EC4;">&#x53EF;&#x53C2;&#x7167;</a> </p>
</blockquote>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token constant">XLSX</span> <span class="token keyword">from</span> <span class="token string">&apos;xlsx&apos;</span>

<span class="token comment">/**
 * &#x5BFC;&#x51FA;Excel
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">exportExcel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>name<span class="token punctuation">)</span> name <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.xlsx</span><span class="token template-punctuation string">`</span></span>
  <span class="token keyword">const</span> wb <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">book_new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> ws <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">aoa_to_sheet</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">book_append_sheet</span><span class="token punctuation">(</span>wb<span class="token punctuation">,</span> ws<span class="token punctuation">,</span> <span class="token string">&apos;SheetJS&apos;</span><span class="token punctuation">)</span>
  <span class="token constant">XLSX</span><span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>wb<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * &#x5BFC;&#x51FA;Excel&#xFF0C;&#x591A;sheet&#x9875;
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">exportExcel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">datas<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>name<span class="token punctuation">)</span> name <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.xlsx</span><span class="token template-punctuation string">`</span></span>
  <span class="token keyword">const</span> wb <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">book_new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> sheets <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>datas<span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> s <span class="token keyword">of</span> sheets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> ws <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">aoa_to_sheet</span><span class="token punctuation">(</span>datas<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">book_append_sheet</span><span class="token punctuation">(</span>wb<span class="token punctuation">,</span> ws<span class="token punctuation">,</span> s<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token constant">XLSX</span><span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>wb<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * &#x5BFC;&#x51FA;excel&#xFF0C;&#x8D85;&#x8FC7;60000&#x6761;&#x81EA;&#x52A8;&#x5206;sheet&#x9875;
 * @param {*} data
 * @param {*} name
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">exportExcel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>name<span class="token punctuation">)</span> name <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.xlsx</span><span class="token template-punctuation string">`</span></span>
  <span class="token keyword">const</span> wb <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">book_new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> header <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token function">splitArray</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> d <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      d<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> ws <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">aoa_to_sheet</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
    <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">book_append_sheet</span><span class="token punctuation">(</span>wb<span class="token punctuation">,</span> ws<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Sheet</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token constant">XLSX</span><span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>wb<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="4&#x3001;&#x89E3;&#x6790;excel&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x5BFC;&#x51FA;">4&#x3001;&#x89E3;&#x6790;Excel&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x5BFC;&#x51FA;</h5>
<blockquote>
<p>&#x4F7F;&#x7528;excel&#x516C;&#x5F0F; <code>{ t:&apos;n&apos;, f: &apos;excel&#x516C;&#x5F0F;&apos; }</code><br>&#x4F7F;&#x7528;excel&#x516C;&#x5F0F;&#x5BFC;&#x51FA;&#x540E;&#x9700;&#x8981;&#x542F;&#x7528;&#x7F16;&#x8F91;&#x516C;&#x5F0F;&#x624D;&#x80FD;&#x751F;&#x6548;  </p>
</blockquote>
<pre class="language-"><code class="lang-javascript"><span class="token comment">/*
&lt;form id=&quot;formWrap&quot;&gt;
  &lt;input type=&quot;file&quot; id=&quot;fileInput&quot; /&gt;
&lt;/form&gt;
*/</span>
<span class="token keyword">import</span> <span class="token constant">XLSX</span> <span class="token keyword">from</span> <span class="token string">&apos;xlsx&apos;</span>

<span class="token keyword">const</span> formWrap <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;formWrap&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&apos;id&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;productCode&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;printePrice&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;paperPrice&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;totalPrice&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;totalTechfee&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x8BEF;&#x5DEE;&apos;</span><span class="token punctuation">]</span>
<span class="token keyword">function</span> <span class="token function">dataArrange</span> <span class="token punctuation">(</span><span class="token parameter">items<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> reqinfo <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>reqinfo<span class="token punctuation">)</span>
      <span class="token keyword">const</span> resinfo <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>resinfo<span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> productCode <span class="token punctuation">}</span> <span class="token operator">=</span> reqinfo<span class="token punctuation">.</span>data
      <span class="token keyword">const</span> <span class="token punctuation">{</span> printePrice<span class="token punctuation">,</span> paperPrice<span class="token punctuation">,</span> totalPrice<span class="token punctuation">,</span> totalTechfee <span class="token punctuation">}</span> <span class="token operator">=</span> resinfo<span class="token punctuation">.</span>data
      items<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        productCode<span class="token punctuation">,</span>
        printePrice<span class="token punctuation">,</span>
        paperPrice<span class="token punctuation">,</span>
        totalPrice<span class="token punctuation">,</span>
        totalTechfee<span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">t</span><span class="token operator">:</span><span class="token string">&apos;n&apos;</span><span class="token punctuation">,</span> <span class="token literal-property property">f</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">=ROUND(E</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">+</span> <span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-C</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">+</span> <span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-D</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">+</span> <span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-F</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">+</span> <span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, 2)</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span> <span class="token comment">// &#x4F7F;&#x7528;excel&#x516C;&#x5F0F;</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;fileInput&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> target <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>result<span class="token punctuation">)</span>
    <span class="token keyword">const</span> workbook <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&apos;array&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// &#x8BFB;&#x53D6;excel&#x6587;&#x4EF6;</span>
    <span class="token keyword">const</span> worksheet <span class="token operator">=</span> workbook<span class="token punctuation">.</span>Sheets<span class="token punctuation">[</span>workbook<span class="token punctuation">.</span>SheetNames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">// &#x53D6;&#x7B2C;&#x4E00;&#x4E2A;sheet&#x9875;</span>
    <span class="token keyword">const</span> dataArr <span class="token operator">=</span> <span class="token constant">XLSX</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">sheet_to_json</span><span class="token punctuation">(</span>worksheet<span class="token punctuation">)</span> <span class="token comment">// &#x5C06;&#x6570;&#x636E;&#x8F6C;&#x4E3A;json</span>
    <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span>keys<span class="token punctuation">]</span>
    <span class="token function">dataArrange</span><span class="token punctuation">(</span>items<span class="token punctuation">,</span> dataArr<span class="token punctuation">)</span>
    <span class="token function">exportExcel</span><span class="token punctuation">(</span>items<span class="token punctuation">,</span> file<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// &#x4E0A;&#x9762; 3 &#x4E2D;&#x5BFC;&#x51FA;excel</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> formWrap<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// &#x91CD;&#x7F6E;&#x8868;&#x5355;&#x60C5;&#x51B5;input file</span>
  <span class="token punctuation">}</span>
  reader<span class="token punctuation">.</span><span class="token function">readAsArrayBuffer</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="5&#x3001;vue-router3x&#x90E8;&#x7F72;&#x66F4;&#x65B0;&#x63D0;&#x793A;">5&#x3001;vue-router@3.x&#x90E8;&#x7F72;&#x66F4;&#x65B0;&#x63D0;&#x793A;</h5>
<blockquote>
<p><code>vue-router@3.x</code>&#x4E2D;&#x68C0;&#x6D4B;&#x7F51;&#x7EDC;&#x5F02;&#x5E38;&#x63D0;&#x793A;<br>&#x52A0;&#x8F7D;&#x8D44;&#x6E90;&#x5931;&#x8D25;&#x65F6;&#xFF0C;&#x63D0;&#x793A;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#xFF08;&#x7ED3;&#x5408;<code>Element-UI</code>&#xFF09;  </p>
</blockquote>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">,</span>
  params<span class="token punctuation">,</span>
  query
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>navigator<span class="token punctuation">.</span>onLine<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$msg<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">&apos;&#x7F51;&#x7EDC;&#x5F02;&#x5E38;&#xFF0C;&#x8BF7;&#x68C0;&#x67E5;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#xFF01;&apos;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^Loading.*?failed.</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$confirm</span><span class="token punctuation">(</span><span class="token string">&apos;&#x7CFB;&#x7EDF;&#x5DF2;&#x66F4;&#x65B0;&#xFF0C;&#x9700;&#x8981;&#x5237;&#x65B0;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x9875;&#x9762;&#xFF01;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x63D0;&#x793A;&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&apos;warning&apos;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">confirmButtonText</span><span class="token operator">:</span> <span class="token string">&apos;&#x5237;&#x65B0;&apos;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">showCancelButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">closeOnHashChange</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h5 id="6&#x3001;vue&#x6307;&#x4EE4;&#xFF0C;&#x53F3;&#x952E;&#x6253;&#x5F00;&#x6570;&#x5B57;&#x8F6F;&#x952E;&#x76D8;">6&#x3001;vue&#x6307;&#x4EE4;&#xFF0C;&#x53F3;&#x952E;&#x6253;&#x5F00;&#x6570;&#x5B57;&#x8F6F;&#x952E;&#x76D8;</h5>
<p><img src="../assets/frontend-snippet-2.jpg" alt="v-num-input"></p>
<blockquote>
<p>&#x6570;&#x5B57;&#x8F6F;&#x952E;&#x76D8;&#x6307;&#x4EE4;&#xFF0C;&#x914D;&#x5408;ElementUI InputNumber&#x3001;Input&#x7EC4;&#x4EF6;&#x4F7F;&#x7528;<br>&#x6CE8;&#x518C;&#x6307;&#x4EE4;&#xFF1A;Vue.directive(&apos;num-input&apos;, NumInput)<br>&#x4F7F;&#x7528;&#x6307;&#x4EE4;&#xFF1A;&lt;InputNumber v-num-input /&gt;  </p>
</blockquote>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&apos;vue&apos;</span>
<span class="token keyword">import</span> NumBox <span class="token keyword">from</span> <span class="token string">&apos;./main.vue&apos;</span>

<span class="token keyword">const</span> NumBoxConstructor <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>NumBox<span class="token punctuation">)</span>

<span class="token comment">// &#x8F6F;&#x952E;&#x76D8;&#x5B9E;&#x4F8B;&#xFF0C;&#x53EA;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x5230;body</span>
<span class="token keyword">let</span> instance
<span class="token keyword">const</span> <span class="token function-variable function">initInstance</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NumBoxConstructor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;div&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>$el<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">bind</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">initInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// &#x53F3;&#x952E;&#x6253;&#x5F00;&#x6570;&#x5B57;&#x8F6F;&#x952E;&#x76D8;&#xFF0C;&#x89E6;&#x6478;&#x8BBE;&#x5907;&#x957F;&#x6309;&#x6FC0;&#x6D3B;</span>
    el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;contextmenu&apos;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> top<span class="token punctuation">,</span> left<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      instance<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">top</span><span class="token operator">:</span> top <span class="token operator">+</span> height<span class="token punctuation">,</span> left <span class="token punctuation">}</span>
      instance<span class="token punctuation">.</span>vnode <span class="token operator">=</span> vnode<span class="token punctuation">.</span>child
      instance<span class="token punctuation">.</span>value <span class="token operator">=</span> vnode<span class="token punctuation">.</span>child<span class="token punctuation">.</span>value <span class="token operator">||</span> <span class="token string">&apos;&apos;</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        instance<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>num-box-fade<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>num-box-container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>positionStyle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickHandle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(s, i) in <span class="token punctuation">&apos;</span>123456789.0<span class="token punctuation">&apos;</span>.split(<span class="token punctuation">&apos;</span><span class="token punctuation">&apos;</span>)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`btn_${i}`<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>() =&gt; inputHandle(s)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-back<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value.length &lt;= 0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>backspaceHandle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>operate-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-close<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>closeHandle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-check<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commitHandle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
import store from &apos;@/store&apos;

export default {
  name: &apos;NumBox&apos;,
  computed: {
    positionStyle ({ position }) {
      const { allWidth } = store.state.app.screen
      let { top, left } = position
      if (allWidth - left &lt; 209) {
        left = allWidth - 209
      }
      return `top: ${top}px; left: ${left}px`
    }
  },
  data () {
    return {
      visible: false,
      position: {
        top: 0,
        left: 0
      },
      vnode: null, // InputNumber &#x865A;&#x62DF;&#x8282;&#x70B9;
      value: &apos;&apos; // &#x5F53;&#x524D;&#x8F93;&#x5165;&#x7684;&#x503C;
    }
  },
  mounted () {
    // &#x70B9;&#x51FB;&#x8F6F;&#x952E;&#x76D8;&#x4EE5;&#x5916;&#x7684;&#x533A;&#x57DF;&#x5173;&#x95ED;&#x8F6F;&#x952E;&#x76D8;
    document.body.addEventListener(&apos;click&apos;, this.closeHandle)
    // esc &#x5173;&#x95ED;&#x8F6F;&#x952E;&#x76D8;
    document.body.addEventListener(&apos;keydown&apos;, this.escapeHandle)
  },
  beforeDestroy () {
    // &#x89E3;&#x9664;&#x4E8B;&#x4EF6;&#x7ED1;&#x5B9A;
    document.body.removeEventListener(&apos;click&apos;, this.closeHandle)
    document.body.removeEventListener(&apos;keydown&apos;, this.escapeHandle)
  },
  methods: {
    // &#x786E;&#x8BA4;&#x8F93;&#x5165;
    commitHandle () {
      if (!this.vnode) return
      const { setCurrentValue, handleInput } = this.vnode
      // &#x8C03;&#x7528;InputNumber&#x7684;setCurrentValue&#x8BBE;&#x7F6E;&#x8F93;&#x5165;&#x7684;&#x503C;
      if (setCurrentValue) {
        setCurrentValue(this.value)
      } else if (handleInput) {
        handleInput({ target: { value: this.value } })
      }
      // &#x786E;&#x8BA4;&#x8F93;&#x5165;&#x540E;&#x5173;&#x95ED;&#x8F6F;&#x952E;&#x76D8;
      this.closeHandle()
    },
    // &#x8F93;&#x5165;&#x5904;&#x7406;&#xFF0C;&#x7956;&#x7236;&#x7A7F;&#x62FC;&#x63A5;
    inputHandle (val) {
      this.value += val
    },
    // &#x9000;&#x683C;&#x952E;&#x5220;&#x9664;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;
    backspaceHandle () {
      const val = `${this.value}`
      if (val.length &gt; 1) {
        this.value = val.substring(0, val.length - 1)
      } else {
        // &#x5982;&#x679C;&#x4EC5;&#x5269;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x6441;&#x9000;&#x683C;&#x952E;&#x65F6;&#x76F4;&#x63A5;&#x6E05;&#x7A7A;
        this.value = &apos;&apos;
      }
    },
    // &#x5173;&#x95ED;&#x6570;&#x5B57;&#x8F6F;&#x952E;&#x76D8;
    closeHandle () {
      this.visible = false
      if (!this.vnode) return
      const { blur, focus, setCurrentValue } = this.vnode
      if (!setCurrentValue) {
        focus &amp;&amp; focus()
        setTimeout(() =&gt; {
          blur &amp;&amp; blur()
          this.vnode = null
        }, 100)
      } else {
        this.vnode = null
      }
    },
    // esc &#x5173;&#x95ED;&#x8F6F;&#x952E;&#x76D8;
    escapeHandle (e) {
      if (e.code === &apos;Escape&apos;) {
        this.closeHandle()
      }
    },
    // &#x6570;&#x5B57;&#x8F6F;&#x952E;&#x76D8;&#x70B9;&#x51FB;&#x65F6;&#x963B;&#x6B62;&#x5192;&#x6CE1;&#xFF0C;&#x9632;&#x6B62;&#x89E6;&#x53D1;body&#x4E8B;&#x4EF6;&#x5173;&#x95ED;
    clickHandle (e) {
      e.stopPropagation()
    }
  }
}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.num-box-container</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 5000<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #FFF<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 1px 2px 4px 2px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token selector">.show-box</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 192px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #EEE<span class="token punctuation">;</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 6px<span class="token punctuation">;</span>
    <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token selector">span</span> <span class="token punctuation">{</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.input-box</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>3<span class="token punctuation">,</span> 60px<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>4<span class="token punctuation">,</span> 40px<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">grid-gap</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.operate-box</span> <span class="token punctuation">{</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>2<span class="token punctuation">,</span> 93px<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> 32px<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">grid-gap</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
    <span class="token selector">button</span> <span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">button</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.num-box-fade-enter-active</span> <span class="token punctuation">{</span>
  <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> num-box-fade-in .3s<span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> num-box-fade-in .3s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.num-box-fade-leave-active</span> <span class="token punctuation">{</span>
  <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> num-box-fade-out .3s<span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> num-box-fade-out .3s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@-webkit-keyframes</span> num-box-fade-in</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> num-box-fade-in</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@-webkit-keyframes</span> num-box-fade-out</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> num-box-fade-out</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<h5 id="7&#x3001;elementui-table&#xFF0C;&#x5217;&#x62D6;&#x62FD;&#x6392;&#x5E8F;">7&#x3001;ElementUI-Table&#xFF0C;&#x5217;&#x62D6;&#x62FD;&#x6392;&#x5E8F;</h5>
<p><img src="../assets/frontend-snippet-3.gif" alt="element-ui-table-columns-drag"></p>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ <span class="token punctuation">&apos;</span>drag-table<span class="token punctuation">&apos;</span>: true, <span class="token punctuation">&apos;</span>drag-table_moving<span class="token punctuation">&apos;</span>: dragState.dragging }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Table</span>
      <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableRef<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>border<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>height<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:show-summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showSummary<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:cell-class-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cellClassName<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:header-cell-class-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>headerCellClassName<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:summary-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>summaryMethod<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:row-class-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rowClassName<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@cell-dblclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableDbClickHandle<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@row-contextmenu</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rowContextmenuHandle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>before<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(col, index) in tableHeader<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span>
          <span class="token attr-name">show-overflow-tooltip</span>
          <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:resizable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:column-key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`${index}`<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:class-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col.className<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col.type<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col.indexHandle<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col.prop<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col.label<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:min-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col.width<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
            <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ column }<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>thead-cell<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@mousedown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>e =&gt; handleMouseDown(e, column)<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@mousemove</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>e =&gt; handleMouseMove(e, column)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table-header-label<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table-virtual<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableColumn</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>after<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
/**
 * slot=&quot;before&quot; header&#x6E32;&#x67D3;&#x4F4D;&#x7F6E;&#x4E4B;&#x524D;
 * slot=&quot;after&quot; header&#x6E32;&#x67D3;&#x4F4D;&#x7F6E;&#x4E4B;&#x540E;
 * @drag-complete=&quot;dragComplete&quot; &#x8FD4;&#x56DE;&#x65B0;&#x7684;header&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x5728;&#x9875;&#x9762;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x8D4B;&#x503C;&#x7ED9;header
 */
/*
const columns = [
  { prop: &apos;a&apos;, label: &apos;AA&apos;, width: &apos;130&apos; },
  { prop: &apos;b&apos;, label: &apos;BB&apos;, className: &apos;user-select-all&apos;, width: &apos;120&apos; },
  { prop: &apos;c&apos;, label: &apos;CC&apos;, width: &apos;130&apos; }
]
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DragTable</span>
  <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listLoading<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">show-summary</span>
  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableRef<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table-expand<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableHeight<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:header</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>columns<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableData.list<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:summary-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getSummaries<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:row-class-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rowClassHandle<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@cell-dblclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableDbClickHandle<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@row-contextmenu</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rowContextmenuHandle<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@drag-complete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableDragComplete<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>before<span class="token punctuation">&quot;</span></span> <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>70<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&#x5E8F;&#x53F7;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>indexHandle<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>after<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span> <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DD<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:formatter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ddFormatter<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span> <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>90<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_operation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&#x64CD;&#x4F5C;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fixed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table-operation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> #19BE6B</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>() =&gt; detail(scope)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>&#x67E5;&#x770B;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableColumn</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DragTable</span><span class="token punctuation">&gt;</span></span>
*/
// &#x521D;&#x59CB;&#x5316;&#x62D6;&#x62FD;&#x72B6;&#x6001;&#x5BF9;&#x8C61;
const dragState = {
  start: NaN, // &#x8D77;&#x59CB;&#x5143;&#x7D20;&#x7684; index
  end: NaN, // &#x79FB;&#x52A8;&#x9F20;&#x6807;&#x65F6;&#x6240;&#x8986;&#x76D6;&#x7684;&#x5143;&#x7D20; index
  dragging: false, // &#x662F;&#x5426;&#x6B63;&#x5728;&#x62D6;&#x52A8;
  direction: undefined // &#x62D6;&#x52A8;&#x65B9;&#x5411;
}
export default {
  name: &apos;DragTable&apos;,
  computed: {
    // before&#x63D2;&#x69FD;&#x6570;&#x91CF;
    beforeLength ({ $slots }) {
      return ($slots.before &amp;&amp; $slots.before.length) || 0
    }
  },
  props: {
    // &#x8868;&#x683C;&#x6570;&#x636E;
    data: {
      type: Array,
      default: () =&gt; []
    },
    // colums&#x6570;&#x636E;[{ width: 150, prop: &apos;&apos;, label: &apos;&apos;, className: &apos;&apos; }]
    // width -&gt; TableColumn min-width
    // className -&gt; TableColumn class-name
    // indexHandle -&gt; TableColumn type=&quot;index&quot; &#x7D22;&#x5F15;&#x751F;&#x6210;&#x65B9;&#x6CD5;
    header: {
      type: Array,
      default: () =&gt; []
    },
    // &#x6570;&#x636E;loading&#x72B6;&#x6001;
    loading: {
      type: Boolean,
      default: false
    },
    // &#x662F;&#x5426;&#x663E;&#x793A;&#x8868;&#x683C;&#x8FB9;&#x6846;&#xFF0C;&#x9ED8;&#x8BA4;&#x663E;&#x793A;
    border: {
      type: Boolean,
      default: true
    },
    // &#x8868;&#x683C;&#x9AD8;&#x5EA6;
    height: {
      type: Number,
      default: 100
    },
    // &#x662F;&#x5426;&#x663E;&#x793A;&#x6C47;&#x603B;&#x884C;&#xFF0C;&#x9ED8;&#x8BA4;false&#x4E0D;&#x663E;&#x793A;
    showSummary: {
      type: Boolean,
      default: false
    },
    // &#x6C47;&#x603B;&#x65B9;&#x6CD5;&#xFF0C;showSummary &#x4E3A;true&#xFF0C;&#x9700;&#x8BBE;&#x7F6E;
    summaryMethod: {
      type: Function,
      default: ({ columns }) =&gt; columns.map(() =&gt; &apos;&apos;)
    },
    // &#x884C;&#x6837;&#x5F0F;
    rowClassName: {
      type: Function,
      default: () =&gt; &apos;&apos;
    }
  },
  data () {
    return {
      tableHeader: this.header,
      dragState: { ...dragState }
    }
  },
  watch: {
    header (val) {
      // &#x4F20;&#x5165;&#x7684;header&#x6570;&#x636E;&#x540C;&#x6B65;&#x5230;&#x5F53;&#x524D;tableHeader&#xFF0C;&#x89E3;&#x51B3;&#x4E0D;&#x5B9A;&#x5217;&#x7684;&#x95EE;&#x9898;
      this.tableHeader = val
    }
  },
  methods: {
    // &#x89E6;&#x53D1;&#x8868;&#x683C;doLayout&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7;DragTable&#x7684;ref&#x5C5E;&#x6027;&#x83B7;&#x53D6;&#x7EC4;&#x4EF6;&#x540E;&#x8C03;&#x7528;
    doLayout () {
      this.$refs.tableRef.doLayout &amp;&amp; this.$refs.tableRef.doLayout()
    },
    // &#x8868;&#x683C;&#x53CC;&#x51FB;&#x4E8B;&#x4EF6;
    tableDbClickHandle (row, column) {
      this.$emit(&apos;cell-dblclick&apos;, { row, column })
    },
    // &#x53F3;&#x952E;&#x83DC;&#x5355;&#x4E8B;&#x4EF6;
    rowContextmenuHandle (row, column, e) {
      this.$emit(&apos;row-contextmenu&apos;, { row, column, e })
    },
    // &#x6309;&#x4E0B;&#x9F20;&#x6807;&#x5F00;&#x59CB;&#x62D6;&#x52A8;
    handleMouseDown (e, { columnKey }) {
      this.dragState.dragging = true
      this.dragState.start = +columnKey
      // &#x7ED9;&#x62D6;&#x52A8;&#x65F6;&#x7684;&#x865A;&#x62DF;&#x5BB9;&#x5668;&#x6DFB;&#x52A0;&#x5BBD;&#x9AD8;
      const table = this.$refs.tableRef.$el
      const virtual = table.querySelectorAll(&apos;.table-virtual&apos;)
      // &#x8BA1;&#x7B97;&#x6EDA;&#x52A8;&#x6761;&#x5411;&#x53F3;&#x6ED1;&#x52A8;&#xFF0C;&#x5DE6;&#x4FA7;&#x6EDA;&#x52A8;&#x91CF;
      const { scrollLeft } = table.querySelector(&apos;.el-table__header-wrapper&apos;)
      for (const item of virtual) {
        item.style.height = `${table.clientHeight - 1}px`
        item.style.width = `${item.parentElement.parentElement.clientWidth}px`
        item.style.marginLeft = `${-scrollLeft - 1}px`
      }
      document.addEventListener(&apos;mouseup&apos;, this.handleMouseUp)
    },
    // &#x9F20;&#x6807;&#x653E;&#x5F00;&#x7ED3;&#x675F;&#x62D6;&#x52A8;
    handleMouseUp () {
      this.dragColumn(this.dragState)
      // &#x521D;&#x59CB;&#x5316;&#x62D6;&#x52A8;&#x72B6;&#x6001;
      this.dragState = { ...dragState }
      document.removeEventListener(&apos;mouseup&apos;, this.handleMouseUp)
    },
    // &#x62D6;&#x52A8;&#x4E2D;
    handleMouseMove (e, { columnKey }) {
      if (this.dragState.dragging) {
        // &#x8BB0;&#x5F55;&#x8D77;&#x59CB;&#x5217;
        const index = +columnKey
        if (index - this.dragState.start !== 0) {
          // &#x5224;&#x65AD;&#x62D6;&#x52A8;&#x65B9;&#x5411;
          this.dragState.direction = index - this.dragState.start &lt; 0 ? &apos;left&apos; : &apos;right&apos;
          this.dragState.end = index
        } else {
          this.dragState.direction = undefined
        }
      } else {
        return false
      }
    },
    // &#x62D6;&#x52A8;&#x6613;&#x4F4D;
    dragColumn ({ start, end, direction }) {
      const tempData = []
      const left = direction === &apos;left&apos;
      const min = left ? end : start - 1
      const max = left ? start + 1 : end
      for (let i = 0; i &lt; this.tableHeader.length; i++) {
        if (i === end) {
          tempData.push(this.tableHeader[start])
        } else if (i &gt; min &amp;&amp; i &lt; max) {
          tempData.push(this.tableHeader[left ? i - 1 : i + 1])
        } else {
          tempData.push(this.tableHeader[i])
        }
      }
      this.tableHeader = tempData
      // &#x62D6;&#x62FD;&#x5B8C;&#x6210;&#xFF0C;emit drag-complete&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD4;&#x56DE;&#x5F53;&#x524D;columns&#x6570;&#x636E;
      this.$emit(&apos;drag-complete&apos;, tempData)
    },
    // &#x5F53;&#x524D;&#x62D6;&#x62FD;&#x5217;&#xFF08;theader&#xFF09;&#x6837;&#x5F0F;&#x8BA1;&#x7B97;
    headerCellClassName ({ columnIndex }) {
      const { start, end, direction } = this.dragState
      const activeClass = columnIndex - this.beforeLength === end ? `drag-active-${direction}` : &apos;&apos;
      const startClass = columnIndex - this.beforeLength === start ? &apos;drag-start&apos; : &apos;&apos;
      return `${activeClass} ${startClass}`
    },
    // &#x5F53;&#x524D;&#x62D6;&#x62FD;&#x5217;&#xFF08;tbody&#xFF09;&#x6837;&#x5F0F;&#x8BA1;&#x7B97;
    cellClassName ({ columnIndex }) {
      return (columnIndex - this.beforeLength === this.dragState.start) ? &apos;drag-start&apos; : &apos;&apos;
    }
  }
}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.drag-table</span> <span class="token punctuation">{</span>
  <span class="token selector">.el-table .drag-start</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #f3f3f3<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.el-table .el-table__header-wrapper</span> <span class="token punctuation">{</span>
    <span class="token selector">th</span> <span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token selector">.table-header-label</span> <span class="token punctuation">{</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 8px 0<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.table-virtual</span><span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;.drag-active-left</span> <span class="token punctuation">{</span>
        <span class="token selector">.table-virtual</span> <span class="token punctuation">{</span>
          <span class="token property">border-left</span><span class="token punctuation">:</span> 2px dotted #666<span class="token punctuation">;</span>
          <span class="token property">z-index</span><span class="token punctuation">:</span> 99<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;.drag-active-right</span> <span class="token punctuation">{</span>
        <span class="token selector">.table-virtual</span> <span class="token punctuation">{</span>
          <span class="token property">border-right</span><span class="token punctuation">:</span> 2px dotted #666<span class="token punctuation">;</span>
          <span class="token property">z-index</span><span class="token punctuation">:</span> 99<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">div.cell</span> <span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.thead-cell</span> <span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
      <span class="token property">align-items</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
      <span class="token property">overflow</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span>
      <span class="token selector">&amp;:before</span> <span class="token punctuation">{</span>
        <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* .el-table__fixed,
  .el-table__fixed-right {
    z-index: 101;
    background-color: #FFF;
  } */</span>
  <span class="token selector">&amp;.drag-table_moving</span> <span class="token punctuation">{</span>
    <span class="token selector">.el-table th .thead-cell</span><span class="token punctuation">{</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> move <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.el-table__fixed,
    .el-table__fixed-right</span> <span class="token punctuation">{</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> not-allowed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<h5 id="8&#x3001;elementui-table&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x5217;&#x7EC4;&#x4EF6;">8&#x3001;ElementUI-Table&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x5217;&#x7EC4;&#x4EF6;</h5>
<p><img src="../assets/frontend-snippet-6.gif" alt="element-ui-table-custom-table-columns"></p>
<pre class="language-"><code class="lang-html"><span class="token comment">&lt;!-- custom-table-columns/main.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Dialog</span>
    <span class="token attr-name">top</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>7%<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog-without-footer<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>620px<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:visible</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:close-on-click-modal</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible = false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-table-columns-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>&#x81EA;&#x5B9A;&#x4E49;&#x5217;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>small</span><span class="token punctuation">&gt;</span></span>&#x52FE;&#x9009;&#x9700;&#x8981;&#x663E;&#x793A;&#x7684;&#x5217;&#xFF0C;&#x4E0A;&#x4E0B;&#x62D6;&#x52A8; <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-rank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span> &#x56FE;&#x6807;&#x884C;&#x6392;&#x5E8F;&#x3002;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>small</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom-table-columns-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Draggable</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>columns<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:animation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">handle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.sort-drag-handle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ghost-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ghost-column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>transition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flip-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(c, i) in columns<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`columns-item_${i}`<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>columns-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ <span class="token punctuation">&apos;</span>unselected<span class="token punctuation">&apos;</span>: c.show !== <span class="token punctuation">&apos;</span>1<span class="token punctuation">&apos;</span> }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Checkbox</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c.show<span class="token punctuation">&quot;</span></span> <span class="token attr-name">true-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">false-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c.label<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>columns-item-label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Checkbox</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-rank sort-drag-handle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Draggable</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog-footer-btns<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">padding-top</span><span class="token punctuation">:</span> 17px<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0 -5px -5px 0</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>&#x91CD;&#x7F6E;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commitDisabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>&#x4FDD;&#x5B58;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible = false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>&#x5173;&#x95ED;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Dialog</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
import Draggable from &apos;vuedraggable&apos;

export default {
  name: &apos;CustomTableColumns&apos;,
  components: { Draggable },
  computed: {
    commitDisabled () {
      return !this.columns.some(({ show }) =&gt; show === &apos;1&apos;)
    }
  },
  props: {
    onSave: Function
  },
  data () {
    return {
      // &#x5F53;&#x524D;&#x5217;&#x6570;&#x636E;
      columns: [],
      // &#x539F;&#x59CB;&#x5217;&#x6570;&#x636E;
      originColumns: [],
      // &#x5F39;&#x51FA;&#x5C42;&#x663E;&#x793A;&#x6807;&#x8BC6;
      visible: false,
      // &#x4FDD;&#x5B58;loading
      loading: false
    }
  },
  methods: {
    // &#x4FDD;&#x5B58;
    commit () {
      // &#x8C03;&#x7528;onSave&#x65B9;&#x6CD5;&#xFF0C;columns&#x6570;&#x636E; &#x590D;&#x5236;&#x5E76;&#x8BBE;&#x7F6E;&#x65B0;&#x7684;sort&#x503C;&#xFF0C;&#x540C;&#x65F6;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x63D0;&#x4F9B;close&#x548C;loading&#x65B9;&#x6CD5;
      this.onSave &amp;&amp; this.onSave(this.columns.map((item, index) =&gt; ({ ...item, sort: index })), {
        close: () =&gt; {
          this.visible = false
        },
        loading: loading =&gt; {
          this.loading = loading
        }
      })
    },
    // &#x91CD;&#x7F6E;&#x5217;&#x8868;&#xFF0C;&#x5B8C;&#x5168;&#x590D;&#x5236;&#x539F;&#x59CB;&#x6570;&#x636E;&#x5230;&#x5F53;&#x524D;&#x5217;&#x6570;&#x636E;&#x4E2D;
    reset () {
      this.columns = this.originColumns.map(item =&gt; ({ ...item }))
    }
  }
}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.custom-table-columns-title</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
  <span class="token selector">span, small</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> -4px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">span</span> <span class="token punctuation">{</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">small</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #777<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">i</span> <span class="token punctuation">{</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.custom-table-columns-wrap</span> <span class="token punctuation">{</span>
  <span class="token property">max-height</span><span class="token punctuation">:</span> 450px<span class="token punctuation">;</span>
  <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> -13px -7px 0 -5px<span class="token punctuation">;</span>
  <span class="token selector">.sort-drag-handle</span> <span class="token punctuation">{</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> move<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 7px 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.columns-item</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px 0 20px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #F5F5F5<span class="token punctuation">;</span>
    <span class="token property">border-left</span><span class="token punctuation">:</span> 1px solid #DDD<span class="token punctuation">;</span>
    <span class="token property">border-right</span><span class="token punctuation">:</span> 1px solid #DDD<span class="token punctuation">;</span>
    <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid #DDD<span class="token punctuation">;</span>
    <span class="token selector">&amp;:last-child</span> <span class="token punctuation">{</span>
      <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #DDD<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;.unselected</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #AAA<span class="token punctuation">;</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> #FCFCFC<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.columns-item-label</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;.ghost-column</span> <span class="token punctuation">{</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> #E2E2E2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.flip-list-move</span> <span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.5s<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token comment">/* custom-table-columns/index.js */</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&apos;vue&apos;</span>
<span class="token keyword">import</span> CustomTableColumns <span class="token keyword">from</span> <span class="token string">&apos;./main.vue&apos;</span>

<span class="token keyword">const</span> CustomTableColumnsConstructor <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>CustomTableColumns<span class="token punctuation">)</span>

<span class="token keyword">let</span> instance

<span class="token keyword">const</span> <span class="token function-variable function">initInstance</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomTableColumnsConstructor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;div&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>$el<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token parameter">options</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$isServer<span class="token punctuation">)</span> <span class="token keyword">return</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">initInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// &#x590D;&#x5236;&#x5F53;&#x524D;&#x5217;&#x6570;&#x636E;&#x5230;columns</span>
  instance<span class="token punctuation">.</span>columns <span class="token operator">=</span> options<span class="token punctuation">.</span>columns <span class="token operator">?</span> options<span class="token punctuation">.</span>columns<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>item <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment">// &#x590D;&#x5236;&#x539F;&#x59CB;&#x5217;&#x6570;&#x636E;&#x5230;columns</span>
  instance<span class="token punctuation">.</span>originColumns <span class="token operator">=</span> options<span class="token punctuation">.</span>originColumns <span class="token operator">?</span> options<span class="token punctuation">.</span>originColumns<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>item <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment">// &#x4E3A;onSave&#x65B9;&#x6CD5;&#x8D4B;&#x503C;</span>
  instance<span class="token punctuation">.</span>onSave <span class="token operator">=</span> options<span class="token punctuation">.</span>onSave <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x6253;&#x5F00;&#x5F39;&#x51FA;&#x5C42;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    instance<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token comment">/* mixins/custom-table.js */</span>
<span class="token keyword">import</span> setTableColumns <span class="token keyword">from</span> <span class="token string">&apos;_c/custom-table-columns&apos;</span>

<span class="token comment">/*
&#x81EA;&#x5B9A;&#x4E49;&#x8868;&#x683C;&#x5217;
1&#x3001;Table&#x9700;&#x8981;&#x6709;ref=&quot;tableRef&quot;
2&#x3001;&#x5217;&#x6570;&#x636E;COLUMNS_DATA
3&#x3001;&#x6DF7;&#x5165;import MixinsCustomTable from &apos;_m/custom-table&apos;
4&#x3001;&#x521D;&#x59CB;&#x5316;&#x6216;&#x8005;&#x5DE5;&#x5E8F;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x7684;&#x4F4D;&#x7F6E;&#x8C03;&#x7528;getCustomTableColumns&#x83B7;&#x53D6;&#x4FDD;&#x5B58;&#x7684;&#x5217;&#x6570;&#x636E;
5&#x3001;&#x6709;&#x7EDF;&#x8BA1;&#x884C;&#x7684;Table&#xFF0C;&#x64CD;&#x4F5C;TableColumn&#x8981;&#x6709;prop=&quot;_operation&quot;
[{
  prop: &apos;id&apos;,                   // TableColumn prop&#x5C5E;&#x6027;
  label: &apos;id&#x6807;&#x8BC6;&apos;,              // TableColumn label&#x5C5E;&#x6027;
  width: &apos;120&apos;,                 // min-width
  className: &apos;user-select-all&apos;, // &#x3010;&#x53EF;&#x9009;&#x3011;TableColumn class-name&#x5C5E;&#x6027;
  formatter: &apos;stateFormatter&apos;,  // &#x3010;&#x53EF;&#x9009;&#x3011;TableColumn formatter&#x65B9;&#x6CD5;key&#x503C;
  sortable: &apos;1&apos;,                // &#x3010;&#x53EF;&#x9009;&#x3011;TableColumn&#x4E2D;&#x662F;&#x5426;&#x6392;&#x5E8F;&#x5B57;&#x6BB5;&#xFF0C;1&#xFF1A;&#x6392;&#x5E8F;&#xFF0C;0&#xFF1A;&#x4E0D;&#x6392;&#x5E8F;&#xFF0C;&#x9ED8;&#x8BA4;&#xFF1A;0
  sort: 1,                      // &#x6392;&#x5E8F;
  show: &apos;1&apos;,                    // &#x662F;&#x5426;&#x663E;&#x793A;&#x5B57;&#x6BB5;&#xFF0C;0&#xFF1A;&#x4E0D;&#x663E;&#x793A;&#xFF0C;1&#xFF1A;&#x663E;&#x793A;&#xFF0C;&#x9ED8;&#x8BA4;&#xFF1A;1
  filter: true                  // &#x3010;&#x53EF;&#x9009;&#x3011;&#x662F;&#x5426;&#x9700;&#x8981;&#x8FC7;&#x6EE4;&#xFF0C;&#x6839;&#x636E;&#x4E1A;&#x52A1;&#x63A7;&#x5236;&#x8BE5;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x5B58;&#x5728;&#x4E8E;&#x5F53;&#x524D;&#x5217;&#x8868;
}]
&#x4E00;&#x3001;&#x9ED8;&#x8BA4;&#x65B9;&#x5F0F;&#xFF0C;&#x63A8;&#x8350;
&lt;Table ref=&quot;tableRef&quot; data=&quot;list&quot;&gt;
  &lt;TableColumn
    v-for=&quot;(c, i) in showColumns&quot;
    show-overflow-tooltip
    header-align=&quot;center&quot;
    align=&quot;center&quot;
    :key=&quot;i&quot;
    :min-width=&quot;c.width&quot;
    :prop=&quot;c.prop&quot;
    :label=&quot;c.label&quot;
    :sortable=&quot;c.sortable === &apos;1&apos;&quot;
    :class-name=&quot;c.className&quot;
    :formatter=&quot;{ stateFormatter }[c.formatter] || null&quot; /&gt;
&lt;/Table&gt;
&#x4E8C;&#x3001;&#x9700;&#x81EA;&#x5B9A;&#x4E49;&#x5185;&#x5BB9;&#xFF0C;:formatter&#x65E0;&#x6548;&#xFF0C;&#x9700;&#x624B;&#x52A8;&#x8C03;&#x7528;&#x8F6C;&#x6362;
&lt;Table ref=&quot;tableRef&quot; data=&quot;list&quot;&gt;
  &lt;TableColumn
    v-for=&quot;(c, i) in showColumns&quot;
    show-overflow-tooltip
    header-align=&quot;center&quot;
    align=&quot;center&quot;
    :key=&quot;i&quot;
    :min-width=&quot;c.width&quot;
    :prop=&quot;c.prop&quot;
    :label=&quot;c.label&quot;
    :sortable=&quot;c.sortable === &apos;1&apos;&quot;
    :class-name=&quot;c.className&quot;&gt;
    &lt;template slot=&quot;header&quot; slot-scope=&quot;{ column }&quot;&gt;
      &lt;span v-if=&quot;column.property === &apos;id&apos;&quot; v-text=&quot;column.label&quot; style=&quot;color: red&quot;&gt;&lt;/span&gt;
      &lt;span v-else v-text=&quot;column.label&quot;&gt;&lt;/span&gt;
    &lt;/template&gt;
    &lt;template slot-scope=&quot;{ row }&quot;&gt;
      &lt;span v-text=&quot;c.prop === &apos;state&apos; ? stateFormatter(row) : row[c.prop]&quot; :style=&quot;`color: ${c.prop === &apos;id&apos; ? &apos;red&apos; : &apos;&apos;}`&quot;&gt;&lt;/span&gt;
    &lt;/template&gt;
  &lt;/TableColumn&gt;
&lt;/Table&gt;

&#x540E;&#x7AEF;&#x4EE3;&#x7801;
// id&#xFF0C;32&#x4F4D;uuid
@Id
private String id;
// &#x6240;&#x5728;&#x83DC;&#x5355;&#xFF0C;&#x8DEF;&#x7531;&#x5730;&#x5740;
private String menu;
// &#x8F66;&#x95F4;
private String workshop;
// &#x5DE5;&#x5E8F;
private String gxName;
// &#x5DE5;&#x53F7;&#xFF0C;empCode
private String empCode;
// TableColumn&#x4E2D;prop&#x5C5E;&#x6027;
private String prop;
// TableColumn&#x4E2D;label&#x5C5E;&#x6027;
private String label;
// TableColumn&#x4E2D;min-width&#x5C5E;&#x6027;
private String width;
// TableColumn&#x4E2D;class-name&#x5C5E;&#x6027;
private String className;
// TableColumn&#x4E2D;formatter&#x65B9;&#x6CD5;key
private String formatter;
// TableColumn&#x4E2D;&#x662F;&#x5426;&#x6392;&#x5E8F;&#x5B57;&#x6BB5;&#xFF0C;1&#xFF1A;&#x6392;&#x5E8F;&#xFF0C;0&#xFF1A;&#x4E0D;&#x6392;&#x5E8F;&#xFF0C;&#x9ED8;&#x8BA4;&#xFF1A;0
private String sortable;
// &#x5B57;&#x6BB5;&#x6392;&#x5E8F;
private Integer sort;
// &#x662F;&#x5426;&#x663E;&#x793A;&#xFF0C;1&#xFF1A;&#x663E;&#x793A;&#xFF0C;0&#xFF1A;&#x4E0D;&#x663E;&#x793A;&#xFF0C;&#x9ED8;&#x8BA4;&#xFF1A;1
private String show;

@Override
@Transactional
@ServiceExceptionHandler
public boolean updateCustomTableBatch(String workshop, String gxName, String menu, List&lt;CustomTable&gt; ctList, HttpServletRequest request) {
    // &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x7528;&#x6237;empCode
    String empCode = getUserIdByRequest(request);
    // &#x521B;&#x5EFA;&#x6761;&#x4EF6;
    CustomTable condition = new CustomTable();
    condition.setEmpCode(empCode);
    condition.setWorkshop(workshop);
    condition.setGxName(gxName);
    condition.setMenu(menu);
    // &#x5220;&#x9664;&#x539F;&#x6709;&#x6570;&#x636E;
    delete(condition);
    // &#x91CD;&#x65B0;&#x63D2;&#x5165;&#x65B0;&#x6570;&#x636E;
    ctList.stream().forEach(item -&gt; {
        // &#x6DFB;&#x52A0;id
        item.setId(IdUtil.simpleUUID());
        // &#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x7528;&#x6237;empCode
        item.setEmpCode(empCode);
        // &#x8BBE;&#x7F6E;&#x8F66;&#x95F4;
        item.setWorkshop(workshop);
        // &#x8BBE;&#x7F6E;&#x5DE5;&#x5E8F;
        item.setGxName(gxName);
        // &#x8BBE;&#x7F6E;&#x83DC;&#x5355;
        item.setMenu(menu);
        // &#x662F;&#x5426;&#x6392;&#x5E8F;&#x6807;&#x8BC6;
        if (StrUtil.isNullOrUndefined(item.getSortable())) {
            item.setSortable(Constants.GLOBAL_DISABLE);
        }
        // &#x662F;&#x5426;&#x663E;&#x793A;&#x6807;&#x8BC6;
        if (StrUtil.isNullOrUndefined(item.getShow())) {
            item.setShow(Constants.GLOBAL_ENABLE);
        }
        // &#x4FDD;&#x5B58;
        insert(item);
    });
    return true;
}
@Override
@ServiceExceptionHandler
public List&lt;CustomTable&gt; selectCustomTable(String workshop, String gxName, String menu, HttpServletRequest request) {
    // &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x7528;&#x6237;empCode
    String empCode = getUserIdByRequest(request);
    Example example = new Example(CustomTable.class);
    Example.Criteria criteria = example.createCriteria();
    criteria.andEqualTo(&quot;empCode&quot;, empCode);
    criteria.andEqualTo(&quot;workshop&quot;, workshop);
    criteria.andEqualTo(&quot;gxName&quot;, gxName);
    criteria.andEqualTo(&quot;menu&quot;, menu);
    example.setOrderByClause(&quot;sort ASC&quot;);
    // &#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x5DF2;&#x4FDD;&#x5B58;&#x7684;&#x6570;&#x636E;
    List&lt;CustomTable&gt; currentList = selectExample(example);
    // &#x8FD4;&#x56DE;&#x7ED3;&#x679C;
    return currentList;
}
*/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x5C55;&#x793A;&#x7684;&#x5217;</span>
    <span class="token function">showColumns</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentColumns<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> show <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> show <span class="token operator">===</span> <span class="token string">&apos;1&apos;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// &#x5F53;&#x524D;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x7684;&#x5217;&#x6570;&#x636E;</span>
    <span class="token function">currentColumns</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> customColumnsData <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>customColumnsData<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> customColumnsData
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>originColumns
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// &#x539F;&#x59CB;&#x5217;&#x6570;&#x636E;</span>
    <span class="token function">originColumns</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token literal-property property">condition</span><span class="token operator">:</span> <span class="token punctuation">{</span> gxName <span class="token punctuation">}</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x6839;&#x636E;&#x4E1A;&#x52A1;&#xFF0C;&#x6B64;&#x5904;&#x5B57;&#x6BB5;&#x8FC7;&#x6EE4;&#x662F;&#x6839;&#x636E;GX_WITH_XM&#x5DE5;&#x5E8F;&#x5B57;&#x6BB5;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">COLUMNS_DATA</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> filter <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token punctuation">(</span>filter <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">GX_WITH_XM</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>gxName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x81EA;&#x5B9A;&#x4E49;&#x5217;&#x6570;&#x636E;&#xFF0C;&#x67E5;&#x8BE2;&#x5F97;&#x5230;</span>
      <span class="token literal-property property">customColumnsData</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// &#x81EA;&#x5B9A;&#x4E49;&#x5217;&#x5F39;&#x6846;</span>
      <span class="token literal-property property">customTableVisible</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * &#x83B7;&#x53D6;&#x81EA;&#x5B9A;&#x4E49;&#x8868;&#x683C;&#x5217;&#x6570;&#x636E;&#xFF0C;&#x8C03;&#x7528;&#x4F4D;&#x7F6E;&#xFF1A;&#x521D;&#x59CB;&#x5316;&#x6216;&#x8005;&#x5DE5;&#x5E8F;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x7684;&#x4F4D;&#x7F6E;
     */</span>
    <span class="token function">getCustomTableColumns</span> <span class="token punctuation">(</span><span class="token parameter">workshop<span class="token punctuation">,</span> gxName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&apos;/admin/sys/v1/table/columns&apos;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&apos;get&apos;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          workshop<span class="token punctuation">,</span>
          gxName<span class="token punctuation">,</span>
          <span class="token literal-property property">menu</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> result<span class="token punctuation">,</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">===</span> <span class="token string">&apos;success&apos;</span> <span class="token operator">&amp;&amp;</span> data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// &#x6570;&#x636E;&#x6821;&#x9A8C;&#xFF0C;&#x9488;&#x5BF9;prop&#x3001;label</span>
          <span class="token keyword">const</span> currentColumns <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> prop<span class="token punctuation">,</span> label <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> prop<span class="token punctuation">,</span> label <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>prop <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>prop<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>prop <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>prop<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">const</span> originColumns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>originColumns<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> prop<span class="token punctuation">,</span> label <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> prop<span class="token punctuation">,</span> label <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>prop <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>prop<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>prop <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>prop<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>originColumns<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>currentColumns<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// &#x6570;&#x636E;&#x4E00;&#x81F4;&#x4F7F;&#x7528;&#x4FDD;&#x5B58;&#x7684;&#x5217;&#x6570;&#x636E;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>customColumnsData <span class="token operator">=</span> data
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$msg</span><span class="token punctuation">(</span><span class="token string">&apos;&#x4EFB;&#x52A1;&#x5217;&#x8868;&#x5217;&#x6570;&#x636E;&#x53D1;&#x751F;&#x66F4;&#x65B0;&#xFF0C;&#x8BF7;&#x91CD;&#x65B0;&#x8BBE;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x5217;&apos;</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>customColumnsData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>customColumnsData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>customColumnsData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * &#x81EA;&#x5B9A;&#x4E49;&#x6309;&#x94AE;&#x8C03;&#x7528;
     * &lt;div slot=&quot;header&quot; class=&quot;table-with-custom-operation&quot;&gt;
     *   &lt;span&gt;&#x64CD;&#x4F5C;&lt;/span&gt;
     *   &lt;Tooltip content=&quot;&#x81EA;&#x5B9A;&#x4E49;&#x5217;&quot; placement=&quot;left&quot;&gt;
     *     &lt;i class=&quot;el-icon-s-operation&quot; @click=&quot;() =&gt; customTableHandle(currentWorkshop.workshop, condition.gxName)&quot;&gt;&lt;/i&gt;
     *   &lt;/Tooltip&gt;
     * &lt;/div&gt;
     */</span>
    <span class="token function">customTableHandle</span> <span class="token punctuation">(</span><span class="token parameter">workshop<span class="token punctuation">,</span> gxName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTableColumns</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">columns</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentColumns<span class="token punctuation">,</span>
        <span class="token literal-property property">originColumns</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>originColumns<span class="token punctuation">,</span>
        <span class="token function-variable function">onSave</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">columns<span class="token punctuation">,</span> <span class="token punctuation">{</span> close<span class="token punctuation">,</span> loading <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// loading start</span>
          <span class="token function">loading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&apos;/admin/sys/v1/table/columns&apos;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              workshop<span class="token punctuation">,</span>
              gxName<span class="token punctuation">,</span>
              <span class="token literal-property property">menu</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
              <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>columns<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> message<span class="token punctuation">,</span> result <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$msg</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              message<span class="token punctuation">,</span>
              <span class="token literal-property property">type</span><span class="token operator">:</span> result <span class="token operator">===</span> <span class="token string">&apos;success&apos;</span> <span class="token operator">?</span> <span class="token string">&apos;success&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;error&apos;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>customColumnsData <span class="token operator">=</span> columns
            <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>tableRef<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>tableRef<span class="token punctuation">.</span>doLayout <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>tableRef<span class="token punctuation">.</span><span class="token function">doLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// loading end</span>
            <span class="token function">loading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="9&#x3001;elementui-table&#xFF0C;&#x5D4C;&#x5957;&#x8868;&#x683C;">9&#x3001;ElementUI-Table&#xFF0C;&#x5D4C;&#x5957;&#x8868;&#x683C;</h5>
<p><img src="../assets/frontend-snippet-4.jpg" alt="element-ui-table-inner-table-1"></p>
<p><img src="../assets/frontend-snippet-5.jpg" alt="element-ui-table-inner-table-2"></p>
<pre class="language-"><code class="lang-html"><span class="token comment">&lt;!-- &#x5168;&#x5C40;&#x6837;&#x5F0F; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.table-column-no-padding</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token selector">&gt;.cell</span> <span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- &#x67D0;&#x4E00;&#x5355;&#x5143;&#x683C;&#x5D4C;&#x5957;&#xFF0C;&#x4E0D;&#x5E26;&#x8868;&#x5934; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Table</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span> <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">min-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>140<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AA<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span> <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">min-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BB<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table-column-no-padding<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ row, $index }<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner-table<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, i) in row.items<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`${$index}_${i}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 20%</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.b1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 30%</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.b2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 30%</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.b3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 20%</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.b4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableColumn</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span> <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">min-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>140<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CC<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- &#x5E26;&#x8868;&#x5934; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Table</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span> <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">min-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AA<span class="token punctuation">&quot;</span></span> <span class="token attr-name">show-overflow-tooltip</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span> <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">min-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BB<span class="token punctuation">&quot;</span></span> <span class="token attr-name">show-overflow-tooltip</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableColumn</span> <span class="token attr-name">header-align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">min-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>700<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table-column-no-padding<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner-table<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 20%</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>B1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 30%</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>B2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 30%</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>B3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 20%</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>B4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ row, $index }<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner-table<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, i) in row.items<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`${$index}_${i}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 20%</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.b1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 30%</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.b2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 30%</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.b3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 20%</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.b4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableColumn</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- &#x5C40;&#x90E8;&#x6837;&#x5F0F; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">table.inner-table</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">border-spacing</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token selector">tr</span> <span class="token punctuation">{</span>
    <span class="token selector">td, th</span> <span class="token punctuation">{</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
      <span class="token selector">&amp;:last-child</span> <span class="token punctuation">{</span>
        <span class="token property">border-right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;:last-child</span> <span class="token punctuation">{</span>
      <span class="token selector">td, th</span> <span class="token punctuation">{</span>
        <span class="token property">border-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<h5 id="10&#x3001;echarts&#x5730;&#x56FE;&#x4E0B;&#x94BB;">10&#x3001;Echarts&#x5730;&#x56FE;&#x4E0B;&#x94BB;</h5>
<p><img src="../assets/frontend-snippet-7.gif" alt="echarts-map-1"></p>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapRef<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map-container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currentLevel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goBack<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>&#x8FD4;&#x56DE;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Alert</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>help<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">show-icon</span> <span class="token attr-name">:closable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&#x9F20;&#x6807;&#x5355;&#x51FB;&#x67E5;&#x770B;&#x5730;&#x533A;&#x8BE6;&#x60C5;&#xFF0C;&#x53CC;&#x51FB;&#x67E5;&#x770B;&#x533A;&#x57DF;&#x5730;&#x56FE;<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
import Mixins from &apos;_m/mixins-chart-common&apos;

const levelTree = {
  province: { prev: &apos;&apos;, next: &apos;city&apos;, cityNext: &apos;district&apos; },
  city: { prev: &apos;province&apos;, next: &apos;district&apos; },
  district: { prev: &apos;city&apos;, next: &apos;&apos;, cityPrev: &apos;province&apos; }
}
const rootCode = &apos;100000&apos;
const cityMark = name =&gt; (name.endsWith(&apos;&#x5E02;&apos;) || name.endsWith(&apos;&#x7279;&#x522B;&#x884C;&#x653F;&#x533A;&apos;))
const NO_DATA_IGNORE = [&apos;&#x53F0;&#x6E7E;&#x7701;&apos;]
export default {
  name: &apos;Map&apos;,
  mixins: [Mixins],
  data () {
    return {
      loading: false,
      mapData: null,
      provinceCode: &apos;&apos;,
      provinceName: &apos;&apos;,
      cityCode: &apos;&apos;,
      cityName: &apos;&apos;,
      districtCode: &apos;&apos;,
      districtName: &apos;&apos;,
      currentLevel: &apos;&apos;,
      clickTimer: null
    }
  },
  methods: {
    goBack () {
      const { prev } = levelTree[this.currentLevel]
      this.currentLevel = prev
      const code = this[`${prev}Code`]
      this.loadMap(code)
    },
    init () {
      const chart = this.$echarts.init(this.$refs.mapRef)
      chart.setOption({
        grid: {
          top: 0,
          left: 0,
          right: 0,
          bottom: 0
        },
        tooltip: {
          trigger: &apos;item&apos;,
          formatter: &apos;{b}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>{c}&apos;
        }
      })
      this.chart = chart
      this.loadMap(rootCode)
      // &#x5355;&#x51FB;&#x4E8B;&#x4EF6;
      chart.on(&apos;click&apos;, ({ name }) =&gt; {
        this.clickTimer &amp;&amp; clearTimeout(this.clickTimer)
        this.clickTimer = setTimeout(() =&gt; {
          console.log(name)
        }, 250)
      })
      // &#x53CC;&#x51FB;&#x4E0B;&#x94BB;
      chart.on(&apos;dblclick&apos;, ({ name }) =&gt; {
        this.clickTimer &amp;&amp; clearTimeout(this.clickTimer)
        if (NO_DATA_IGNORE.includes(name) || !this.mapData) return
        const { next, cityNext } = this.currentLevel ? levelTree[this.currentLevel] : { next: &apos;province&apos;, cityNext: &apos;city&apos; }
        const n = cityMark(this.provinceName) ? cityNext : next
        if (!n || n === &apos;district&apos;) return
        const { properties } = this.mapData.features.find(({ properties }) =&gt; properties.name === name) || {}
        if (properties) {
          const { level, adcode } = properties
          this.loadMap(`${adcode}`).then(() =&gt; {
            this[`${level}Code`] = `${adcode}`
            this[`${level}Name`] = name
            this.currentLevel = level
          })
        }
      })
    },
    loadMap (code = rootCode) {
      this.loading = true
      this.prevCode = code
      return new Promise((resolve, reject) =&gt; {
        fetch(`https://geo.datav.aliyun.com/areas_v3/bound/geojson?code=${code}${code.endsWith(&apos;00&apos;) ? &apos;_full&apos; : &apos;&apos;}`, {
          method: &apos;GET&apos;,
          mode: &apos;cors&apos;,
          referrerPolicy: &apos;no-referrer&apos;
        }).then(res =&gt; {
          this.loading = false
          if (res.ok) {
            return res.json()
          } else {
            reject(new Error(&apos;&#x65E0;&#x6CD5;&#x83B7;&#x53D6;&#x8BE5;&#x533A;&#x57DF;&#x5730;&#x56FE;&apos;))
          }
        }).then(res =&gt; {
          if (!res) {
            reject(new Error(&apos;&#x65E0;&#x6CD5;&#x83B7;&#x53D6;&#x8BE5;&#x533A;&#x57DF;&#x5730;&#x56FE;&apos;))
            return
          }
          this.mapData = res
          this.$echarts.registerMap(code, res)
          this.chart.setOption({
            series: [{
              type: &apos;map&apos;,
              name: code,
              map: code,
              zoom: code === rootCode ? 1.23 : 1,
              top: code === rootCode ? 100 : 66,
              selectedMode: false,
              data: [
                { name: &apos;&#x5C71;&#x4E1C;&#x7701;&apos;, value: 10057.34 },
                { name: &apos;&#x6D4E;&#x5357;&#x5E02;&apos;, value: 20057.34 }
              ],
              label: {
                show: true,
                fontSize: 9,
                color: &apos;#FFF&apos;,
                borderColor: &apos;rgba(95, 117, 168, .4)&apos;,
                backgroundColor: &apos;rgba(95, 117, 168, .4)&apos;,
                shadowColor: &apos;rgba(95, 117, 168, .4)&apos;,
                padding: 2,
                borderRadius: 6,
                shadowBlur: 4,
                shadowOffsetX: 2,
                shadowOffsetY: 2
              },
              itemStyle: {
                areaColor: new this.$echarts.graphic.LinearGradient(1, 0, 0, 0, [{ offset: 0, color: &apos;#84A0E4&apos; }, { offset: 1, color: &apos;#92AFF7&apos; }]),
                borderColor: &apos;#FFF&apos;
              },
              emphasis: {
                label: {
                  color: &apos;#FFF&apos;
                },
                itemStyle: {
                  areaColor: &apos;#718BCC&apos;
                }
              },
              select: {
                label: {
                  color: &apos;#FFF&apos;
                },
                itemStyle: {
                  areaColor: &apos;#718BCC&apos;
                }
              }
            }]
          })
          resolve()
        }).catch(reject)
      })
    }
  }
}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.map-wrap</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token selector">.map-container</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">button</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.help</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">::v-deep .el-alert</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-flex<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 6px 8px<span class="token punctuation">;</span>
    <span class="token selector">.el-alert__title</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<footer class="page-footer"><span class="copyright">&#xA9; 2023 www.wdg.pub all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">Last modified: 
2022-05-22
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="chrome-download.html" class="navigation navigation-prev " aria-label="Previous page: Chrome文件下载">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../index/wx.html" class="navigation navigation-next " aria-label="Next page: 微信开发">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"代码片段收藏","level":"1.3.20","depth":2,"next":{"title":"微信开发","level":"1.4","depth":1,"path":"index/wx.md","ref":"index/wx.md","articles":[{"title":"微信公众号","level":"1.4.1","depth":2,"path":"wx/wx-mp.md","ref":"wx/wx-mp.md","articles":[]},{"title":"微信小程序授权","level":"1.4.2","depth":2,"path":"wx/weapp-grant.md","ref":"wx/weapp-grant.md","articles":[]},{"title":"微信小程序车牌键盘","level":"1.4.3","depth":2,"path":"wx/weapp-vehicle-panel.md","ref":"wx/weapp-vehicle-panel.md","articles":[]},{"title":"微信小程序Canvas签名","level":"1.4.4","depth":2,"path":"wx/weapp-sign.md","ref":"wx/weapp-sign.md","articles":[]},{"title":"微信小程序验证码输入","level":"1.4.5","depth":2,"path":"wx/weapp-codes.md","ref":"wx/weapp-codes.md","articles":[]},{"title":"微信小程序倒计时","level":"1.4.6","depth":2,"path":"wx/weapp-timing.md","ref":"wx/weapp-timing.md","articles":[]},{"title":"微信小程序日期时间选择器","level":"1.4.7","depth":2,"path":"wx/weapp-datetime-picker.md","ref":"wx/weapp-datetime-picker.md","articles":[]}]},"previous":{"title":"Chrome文件下载","level":"1.3.19","depth":2,"path":"frontend/chrome-download.md","ref":"frontend/chrome-download.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","-sharing","-highlight","prism","github","search-pro","sharing-plus","tbfed-pagefooter","back-to-top-button","expandable-chapters-small"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"© 2023 www.wdg.pub","modify_label":"Last modified: ","modify_format":"YYYY-MM-DD"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"github":{"url":"https://github.com/jekorx"},"search-pro":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"fontsettings":{"theme":"white","family":"sans","size":2},"back-to-top-button":{},"expandable-chapters-small":{},"sharing":{"qq":false,"all":["douban","facebook","google","linkedin","qq","qzone","twitter","weibo","whatsapp"],"douban":false,"facebook":false,"weibo":false,"whatsapp":false,"twitter":false,"google":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"jekorx","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"jekorx's blog","language":"zh-hans","gitbook":"*","description":"个人学习、工作经验的总结"},"file":{"path":"frontend/snippet.md","mtime":"2022-05-22T13:03:46.854Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-06-27T12:47:57.051Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

